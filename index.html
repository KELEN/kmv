<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
    <style>
        .list-title {
            font-weight: bold;
        }
        .list-time {
            font-style: italic;
        }
    </style>
</head>
<body>
<div id="div1" class="div">
    {{ title.substring(0, 1) }}
    <!-- 列表 -->
    <ul>
        <li class="list-item" k-for="i in list" style="color: black; font-size: 20px;">
            <h3 class="list-title">{{ i.title }}</h3> - <em class="list-time">{{ i.time }} </em>
        </li>
    </ul>
</div>
<span id="loading">loading</span>
<script src="./dist/bundle.js"></script>
<script>
    var spn = document.getElementById("loading");
    var kmv = new Kmv({
        el: '#div1',
        data: {
            name: "kelen"
        },
        beforeInit: function (event) {
            setTimeout(function() {
                // 模拟ajax获取数据
                var data = {
                    title: "书名",
                    list: [{
                        title: "xxmmcc",
                        time: new Date()
                    }, {
                        title: "wordSpacing",
                        time: new Date()
                    },{
                        title: "wordSpacing",
                        time: new Date()
                    },{
                        title: "wordSpacing",
                        time: new Date()
                    },{
                        title: "wordSpacing",
                        time: new Date()
                    },{
                        title: "wordSpacing",
                        time: new Date()
                    },{
                        title: "wordSpacing",
                        time: new Date()
                    },{
                        title: "wordSpacing",
                        time: new Date()
                    },{
                        title: "wordSpacing",
                        time: new Date()
                    }]
                }
                spn.style.display = "none";
                // 触发initData事件
                event.$emit("initData", data);
                kmv.data.list.splice(1, 1, {title: "222", time: new Date()})
            }, 1000)
        },
        mounted: function() {
            console.log("finish");
        }
    });
</script>
</body>
</html>