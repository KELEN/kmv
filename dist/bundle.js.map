{"version":3,"sources":["webpack:///webpack/bootstrap fc7aa49164bfb2273c88","webpack:///./src/index.ts","webpack:///./src/util/render.ts","webpack:///./src/util/template.ts","webpack:///./src/constants/constant.ts","webpack:///./src/util/object.ts","webpack:///./src/util/array.ts","webpack:///./src/util/observer.ts","webpack:///./src/util/watcher.ts","webpack:///./src/util/validator.ts","webpack:///./src/dom/vdom.ts","webpack:///./src/util/domOp.ts"],"names":[],"mappings":"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","file":"bundle.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap fc7aa49164bfb2273c88","import { renderInit } from './util/render'\r\nimport { observer } from './util/observer'\r\nimport { Watcher } from \"./util/watcher\"\r\n\r\nfunction Kmv(opts) {\r\n\r\n    let elSelector = opts['el'];\r\n    let elem = document.querySelector(elSelector);\r\n    let that = this;\r\n\r\n    this.data = opts.data;\r\n\r\n    this.virtualDom = [];\r\n\r\n    this.flush = false;\r\n\r\n    this.watchers = new Watcher(elem);\r\n\r\n    this.$data = observer(opts.data, this);\r\n\r\n    console.log(this.watchers.getQueue());\r\n\r\n    setTimeout(function() {\r\n        renderInit(that.watchers, that.$data, opts.data);\r\n    }, 0);\r\n\r\n    return this;\r\n}\r\n\r\n(<any>window).Kmv = Kmv;\r\n\r\nexport default Kmv;\r\n\r\n\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/index.ts","import { compileTpl } from '../util/template'\r\nimport { NodeType, RegexpStr, RenderType } from '../constants/constant'\r\nimport {getDotVal, depCopy} from './object'\r\nimport {diff} from \"./array\";\r\n\r\nexport let renderInit = (watcher, data, observeData) => {\r\n\r\n    let renderQueue = watcher.getQueue();\r\n    for (let i = 0; i < renderQueue.length; i++) {\r\n        let node = renderQueue[i];\r\n        switch (node.renderType) {\r\n            case RenderType.TEXT:\r\n                let template = node.template;\r\n                let text = compileTpl(template, data);\r\n                node.nodeValue = text;\r\n                break;\r\n            case RenderType.INPUT:\r\n                let kModel = node.getAttribute(\"k-model\");\r\n                node.value = getDotVal(data, kModel);\r\n                node.oninput = function() {\r\n                    observeData[kModel] = this.value;\r\n                }\r\n                break;\r\n            case RenderType.FOR:\r\n                node.renderInit(data);\r\n                break;\r\n        }\r\n\r\n    }\r\n}\r\n\r\nexport let reRender = (kmv, key) => {\r\n    let renderQueue = kmv.watchers.getQueue();\r\n    let data = kmv.$data;\r\n    for (let i = 0; i < renderQueue.length; i++) {\r\n        let node = renderQueue[i];\r\n        switch (node.renderType) {\r\n            case RenderType.TEXT:\r\n                let template = node.template;\r\n                node.nodeValue = compileTpl(template, data);\r\n                break;\r\n            case RenderType.FOR:\r\n                node.reRenderList(data);\r\n                break;\r\n        }\r\n    }\r\n}\r\n\r\nexport let reRenderFor = (kmv, forKey) => {\r\n    let renderQueue = kmv.watchers.getQueue();\r\n    let data = kmv.$data;\r\n    for (let i = 0; i < renderQueue.length; i++) {\r\n        let node = renderQueue[i];\r\n        if (node.renderType == RenderType.FOR) {\r\n            let vdom = node.vdom;\r\n            let arrKey = vdom.forObjectKey;\r\n            let newArray = getDotVal(data, arrKey);\r\n            let change = diff(vdom.arrayData, newArray);\r\n            node.reRender(change, data);\r\n        }\r\n    }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/util/render.ts","import { RegexpStr } from '../constants/constant'\r\nimport { getDotVal } from './object'\r\nimport * as StringUtil from \"../util/string\"\r\nimport { ArithmeticOperateError } from '../util/error';\r\n/**\r\n *  转换逻辑操作运算结果\r\n *\r\n */\r\nexport let transArithmeticOp = (tpl, obj) => {\r\n\r\n    let opReg = RegexpStr.arithmeticOp;\r\n\r\n    let arr = tpl.split(opReg);   // 符号切分\r\n\r\n    let opRegArr = tpl.match(opReg);\r\n    let isParamReg = RegexpStr.isParams;\r\n\r\n    let tmp;\r\n    let newStr = '';\r\n\r\n    for (let i = 0; i < arr.length; i++) {\r\n\r\n        tmp = arr[i].trim();\r\n\r\n        if (isParamReg.test(tmp)) {\r\n            // 如果是变量\r\n            let val = getDotVal(obj, tmp);\r\n            if (isNaN(val)) {       // 字符串\r\n                newStr += '\"' + val + '\"';\r\n            } else {\r\n                if (!val) val = 0;\r\n                newStr += val;\r\n            }\r\n        } else {\r\n            newStr += tmp;\r\n        }\r\n\r\n        if (i < arr.length - 1) {\r\n            newStr += opRegArr[i];\r\n        }\r\n    }\r\n    return eval(newStr);\r\n\r\n}\r\n\r\nexport let compileTpl = (tpl, obj) => {\r\n\r\n    let braceReg = RegexpStr.brace;\r\n\r\n    var regRes;\r\n    while (regRes = braceReg.exec(tpl)) {\r\n        let key = regRes ? regRes[1].trim() : '';\t// 获取括号的键\r\n        let opReg = RegexpStr.arithmeticOp;     // 是否有操作符\r\n        let text = '';\r\n        if (opReg.test(key)) {\r\n            text = transArithmeticOp(key, obj)\r\n        } else {\r\n            text = getDotVal(obj, key);\r\n        }\r\n        tpl = tpl.replace(braceReg, text);\r\n    }\r\n    return tpl;\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/util/template.ts","/**\r\n *   URL:\r\n *   说明:\r\n *   负责人: kelen\r\n *   日期:  1/24 0024.\r\n */\r\nexport const Attr = {\r\n    K_MODEL: 'k-model'\r\n}\r\n\r\nexport const RegexpStr = {\r\n    brace: /\\{\\{((?:.|\\n)+?)\\}\\}/,  // {{ name }}  大括号\r\n    forStatement: /([a-z_]+[\\w]*)\\s+in\\s+([a-z_][\\w.]+)/,\r\n    bracket: /\\[['|\"]?(\\w+)['|\"]?\\]/,   // 中括号\r\n    isString: /'([^']*)'|\"([^\\\"]*)\"/,\r\n    isParams: /^[^\"|^'\\d]+.*/,\r\n    arithmeticOp: /\\*|\\+|-\\//g,          // 逻辑运算符\r\n    inputElement: /INPUT|TEXTAREA/,\r\n    arrtibuteKey: /k-for|k-model|k-if/\r\n}\r\n\r\nexport const NodeType = {\r\n    ELEMENT: 1,\r\n    ATTRIBUTE: 2,\r\n    TEXT: 3,\r\n    COMMENT: 8,\r\n    DOCUMENT: 9\r\n}\r\n\r\nexport const ArrayMethod = ['push', 'pop', 'slice', 'splice', 'shift', 'unshift', 'soft', 'reverse']\r\n\r\nexport enum RenderType {\r\n    TEXT, INPUT, TEXTAREA, FOR, IF,\r\n}\r\n\r\nexport enum ArrayOp {\r\n    PUSH, POP, SORT, CHANGE, SHIFT\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/constants/constant.ts","\r\nimport { RegexpStr } from '../constants/constant';\r\n\r\nexport let getDotVal = (obj, key) => {\r\n\r\n    key = key.replace(RegexpStr.bracket, \".$1\");\t\t// 把arr['name']/arr[\"name\"]/arr[0] 转为 arr.name/arr.0\r\n\r\n    let val = obj, k;\r\n    // 获取对应的dot值\r\n    let arr = key.split(\".\") || [key];\r\n    while (k = arr.shift()) {\r\n        if (!val) {\r\n            val = undefined;\r\n            break;\r\n        }\r\n        val = val[k];\r\n    }\r\n    return val;\r\n\r\n}\r\n\r\nexport let depCopy = (obj) => {\r\n    let newObj = {};\r\n    for (let i in obj) {\r\n        if (typeof obj[i] === 'object') {\r\n            if (Array.isArray(obj[i])) {\r\n                newObj[i] = obj[i].slice(0);\r\n            } else {\r\n                newObj[i] = depCopy(obj[i]);\r\n            }\r\n        } else {\r\n            newObj[i] = obj[i];\r\n        }\r\n    }\r\n    return newObj;\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/util/object.ts","import { ArrayOp } from \"../constants/constant\"\r\n\r\nexport let diff = (arr1, arr2) => {\r\n    let change = [];\r\n    let len1 = arr1.length, len2 = arr2.length;\r\n    let len = Math.min(len1, len2);\r\n    for (let i = 0; i < len; i++) {\r\n        if (arr1[i] !== arr2[i]) {\r\n            change.push({\r\n                op: ArrayOp.CHANGE,\r\n                index: i,\r\n                text: arr2[i]\r\n            })\r\n        }\r\n    }\r\n    if (len1 > len2) {\r\n        let deleteArr = arr1.slice(len2);\r\n        for (let i = 0; i < deleteArr.length; i++) {\r\n            change.push({\r\n                op: ArrayOp.POP,\r\n                index: i + len2,\r\n                text: deleteArr[i]\r\n            })\r\n        }\r\n    } else {\r\n        let addArr = arr2.slice(len1);\r\n        for (let i = 0; i < addArr.length; i++) {\r\n            change.push({\r\n                op: ArrayOp.PUSH,\r\n                index: i + len,\r\n                text: addArr[i]\r\n            })\r\n        }\r\n    }\r\n    return change;\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/util/array.ts","import * as ObjectUtil from '../util/object'\r\nimport {reRender, reRenderFor} from \"./render\";\r\nimport { ArrayMethod } from '../constants/constant'\r\nimport * as DomUtil from './domOp'\r\nimport {compileTpl} from \"./template\";\r\nimport {getDotVal} from \"./object\";\r\n/**\r\n *   URL:\r\n *   说明:\r\n *   负责人: kelen\r\n *   日期:  1/24 0024.\r\n */\r\nexport let observer = (obj, kmv, key = '') => {\r\n    let newObj = ObjectUtil.depCopy(obj);\r\n    for (let i in obj) {\r\n        if (typeof obj[i] == 'object') {\r\n            let bigKey = key ? key + \".\" + i : i;\r\n            if (Array.isArray(obj[i])) {\r\n                arrayObserve(obj[i], kmv, bigKey);\r\n            } else {\r\n                observer(obj[i], kmv, bigKey);\r\n            }\r\n        } else {\r\n            Object.defineProperty(obj, i, {\r\n                set: function (newVal) {\r\n                    newObj[i] = newVal;\r\n                    reRender(kmv, i);\r\n                }\r\n            })\r\n        }\r\n    }\r\n    return newObj;\r\n}\r\n\r\nfunction arrayObserve(arr, kmv, bigKey) {\r\n\r\n    let timer;\r\n\r\n    ArrayMethod.forEach((method) => {\r\n        Object.defineProperty(arr, method, {\r\n            configurable: false,\r\n            enumerable: false, // hide from for...in\r\n            writable: false,\r\n            value: function () {\r\n                Array.prototype[method].apply(getDotVal(kmv.$data, bigKey), arguments);\r\n                if (timer) {\r\n                    clearTimeout(timer);\r\n                }\r\n                timer = setTimeout(function () {\r\n                    reRenderFor(kmv, bigKey)\r\n                }, 10)\r\n            }\r\n        });\r\n    })\r\n\r\n\r\n\r\n    /*arr.push = function() {\r\n        Array.prototype.push.apply(getDotVal(kmv.$data, bigKey), arguments);\r\n        if (timer) {\r\n            clearTimeout(timer);\r\n        }\r\n        timer = setTimeout(function () {\r\n            reRenderFor(kmv, bigKey)\r\n        }, 10)\r\n    }\r\n\r\n    arr.pop = function () {\r\n        Array.prototype.pop.apply(getDotVal(kmv.$data, bigKey), arguments);\r\n        if (timer) {\r\n            clearTimeout(timer);\r\n        }\r\n        timer = setTimeout(function () {\r\n            reRenderFor(kmv, bigKey)\r\n        }, 10)\r\n    }\r\n\r\n    arr.shift = function () {\r\n        Array.prototype.shift.apply(getDotVal(kmv.$data, bigKey), arguments);\r\n        if (timer) {\r\n            clearTimeout(timer);\r\n        }\r\n        timer = setTimeout(function () {\r\n            reRenderFor(kmv, bigKey);\r\n        }, 10)\r\n    }\r\n\r\n    arr.unshift = function () {\r\n        Array.prototype.unshift.apply(getDotVal(kmv.$data, bigKey), arguments);\r\n        if (timer) {\r\n            clearTimeout(timer);\r\n        }\r\n        timer = setTimeout(function () {\r\n            reRenderFor(kmv, bigKey)\r\n        }, 10)\r\n    }\r\n\r\n    arr.splice = function () {\r\n        Array.prototype.splice.apply(getDotVal(kmv.$data, bigKey), arguments);\r\n        if (timer) {\r\n            clearTimeout(timer);\r\n        }\r\n        timer = setTimeout(function () {\r\n            reRenderFor(kmv, bigKey)\r\n        }, 10)\r\n    }\r\n\r\n    arr.sort =function () {\r\n        Array.prototype.sort.apply(getDotVal(kmv.$data, bigKey), arguments);\r\n        if (timer) {\r\n            clearTimeout(timer);\r\n        }\r\n        timer = setTimeout(function () {\r\n            reRenderFor(kmv, bigKey)\r\n        }, 10)\r\n    };*/\r\n}\r\n\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/util/observer.ts","import { NodeType, RegexpStr, RenderType } from '../constants/constant'\r\nimport { isKvmAttribute } from './validator'\r\nimport * as VirtualDOM from \"../dom/vdom\"\r\n\r\nexport class Watcher {\r\n    queue = [];\r\n    constructor(node) {\r\n        this.queue = this.queueInit(node);\r\n    }\r\n    getQueue() {\r\n        return this.queue;\r\n    }\r\n    queueInit (node) {\r\n        let childNodes = node.childNodes;\r\n        for (let i = 0; i < childNodes.length; i++) {\r\n            let child = childNodes[i];\r\n            switch (child.nodeType) {\r\n                case NodeType.TEXT:\r\n                    let nodeValue = child.nodeValue;\r\n                    if (RegexpStr.brace.test(nodeValue)) {\r\n                        child.renderType = RenderType.TEXT;\r\n                        child.template = nodeValue;\r\n                        this.queue.push(child);\r\n                    }\r\n                    break;\r\n                case NodeType.ELEMENT:\r\n                    if (child.getAttribute(\"k-for\")) {\r\n                        // 转为虚拟dom\r\n                        let vdom = new VirtualDOM.ForDOM(child);\r\n                        vdom.connect(child.previousElementSibling, child.nextElementSibling);\r\n                        vdom.renderType = RenderType.FOR;\r\n                        this.queue.push(vdom);\r\n                        child.parentNode.removeChild(child);    // 移除自身元素\r\n                    } else if (child.getAttribute(\"k-if\")) {\r\n                        child.renderType = RenderType.IF;\r\n                        this.queue.push(child);\r\n                    } else if (RegexpStr.inputElement.test(child.tagName)) {\r\n                        let attrs = child.attributes;\r\n                        for (let n = 0; n < attrs.length; n++) {\r\n                            let attr = attrs[n];\r\n                            if (isKvmAttribute(attr.nodeName, attr.nodeValue)) {\r\n                                child.renderType = RenderType.INPUT;\r\n                                this.queue.push(child);\r\n                                break;\r\n                            }\r\n                        }\r\n                    }\r\n                    break;\r\n            }\r\n            if (child.childNodes.length) {\r\n                this.queue.concat(this.queueInit(child));\r\n            }\r\n        }\r\n        return this.queue;\r\n    }\r\n}\r\n\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/util/watcher.ts","import { RegexpStr } from '../constants/constant'\r\n\r\nlet isBraceReg = (str: string) => {\r\n    return RegexpStr.brace.test(str);\r\n}\r\n\r\n/**\r\n *  是否有包含语法\r\n * @param str\r\n */\r\nlet isForStatement = (str: string) => {\r\n    return RegexpStr.forStatement.test(str);\r\n}\r\n\r\nlet validator =  {\r\n    isBraceReg: isBraceReg,\r\n    isForStatement: isForStatement\r\n}\r\n\r\nexport let isKvmAttribute = (key, val) => {\r\n    return RegexpStr.arrtibuteKey.test(key) || RegexpStr.brace.test(val);\r\n}\r\n\r\nexport default validator;\n\n\n// WEBPACK FOOTER //\n// ./src/util/validator.ts","import * as DomUtil from \"../util/domOp\"\r\nimport { getDotVal, depCopy } from '../util/object'\r\nimport { compileTpl } from '../util/template'\r\nimport { RegexpStr } from '../constants/constant'\r\nimport { ArrayOp } from \"../constants/constant\"\r\n\r\nclass VDOM {\r\n    vdom;\r\n    constructor (node) {\r\n        // h3\r\n        this.vdom = {\r\n            tagName: node.tagName,\r\n            template: node.firstChild.nodeValue,\r\n        }\r\n    }\r\n    transDOM(data) {\r\n        let newEle = document.createElement(this.vdom.tagName);\r\n        newEle.template = this.vdom.template;\r\n        let text = compileTpl(this.vdom.template, data);\r\n        newEle.innerText = text;\r\n        return newEle;\r\n    }\r\n}\r\n\r\nexport class ForDOM {\r\n    renderType;\r\n    vdom;\r\n    constructor (node) {\r\n        let forString = node.getAttribute(\"k-for\");\r\n        let match = RegexpStr.forStatement.exec(forString);\r\n        let template = node.firstChild.nodeValue;\r\n        this.vdom = {\r\n            tagName: node.tagName,\r\n            forString: forString,\r\n            forObjectKey: match[2].trim(),\r\n            forKey: match[1].trim(),\r\n            template: template,\r\n            previousSibling: node.previousSibling,\r\n            nextSibling: node.nextSibling,\r\n            documentFragment: null,\r\n            children: [],\r\n            arrayData: []\r\n        }\r\n        if (node.children) {\r\n            for (let i = 0; i < node.children.length; i++) {\r\n                let virtualDOM = new VDOM(node.children[i]);\r\n                this.vdom.children.push(virtualDOM)\r\n            }\r\n        }\r\n        console.log(this.vdom);\r\n    }\r\n    getVdom () {\r\n        return this.vdom;\r\n    }\r\n    renderInit(data) {\r\n        var tagName = this.vdom.tagName;\r\n        var template = this.vdom.template;\r\n        let arrKey = this.vdom.forObjectKey;\r\n        let arrayData = getDotVal(data, arrKey);\r\n        var docFrag = document.createDocumentFragment();\r\n        let obj = depCopy(data);\r\n        for (let i = 0; i < arrayData.length; i++) {\r\n            let newDom = document.createElement(tagName);\r\n            let text = getDotVal(data, this.vdom.forObjectKey + \".\" + i);\r\n            obj[this.vdom.forKey] = text;\r\n            newDom.innerText = compileTpl(template, obj);\r\n            for (let n = 0; n < this.vdom.children.length; n++) {\r\n                newDom.appendChild(this.vdom.children[n].transDOM(data));\r\n            }\r\n            docFrag.appendChild(newDom);\r\n        }\r\n        DomUtil.insertAfter(this.vdom.previousSibling, docFrag);\r\n        this.vdom.arrayData = arrayData.slice(0);\r\n    }\r\n    removeFor(vdom) {\r\n        var prev = vdom.previousSibling;\r\n        var next = vdom.nextSibling;\r\n        var tmp = prev;\r\n        while (tmp.nextSibling !== next) {\r\n            DomUtil.removeNode(tmp.nextSibling);\r\n        }\r\n    }\r\n    connect (realPrevDom, realNextDom) {\r\n        realPrevDom.$nextSibling = this.vdom;\r\n        this.vdom.$nextSibling = realNextDom;\r\n    }\r\n    reRender (change, data) {\r\n        for (let i = 0; i < change.length; i++) {\r\n            var op = change[i].op;\r\n            switch (op) {\r\n                case ArrayOp.PUSH:\r\n                    this.pushDOM(data, change[i].index);\r\n                    break;\r\n                case ArrayOp.POP:\r\n                    this.popDOM();\r\n                    break;\r\n                case ArrayOp.CHANGE:\r\n                    let obj = depCopy(data);\r\n                    this.changeText(obj, change[i].index)\r\n                    break\r\n                case ArrayOp.SHIFT:\r\n                    this.shiftDOM();\r\n                    break;\r\n            }\r\n        }\r\n        let arrKey = this.vdom.forObjectKey;\r\n        let arrayData = getDotVal(data, arrKey);\r\n        this.vdom.arrayData = arrayData.slice(0);\r\n    }\r\n    reRenderList (data) {\r\n        let start = this.vdom.previousSibling;\r\n        let end = this.vdom.nextSibling;\r\n        let index = 0;\r\n        let obj = depCopy(data);\r\n        var template = this.vdom.template;\r\n        while (start !== end) {\r\n            start = start.nextSibling\r\n            let text = getDotVal(data, this.vdom.forObjectKey + \".\" + index);\r\n            obj[this.vdom.forKey] = text;\r\n            text = compileTpl(template, obj);\r\n            DomUtil.changeNodeValue(start.firstChild, text);\r\n            let childrens = start.children || [];\r\n            for (let i = 0; i < childrens.length; i++) {\r\n                this.reRenderChild(childrens[i], data);\r\n            }\r\n            index ++;\r\n        }\r\n    }\r\n    reRenderChild (node, data) {\r\n        let template = node.template;\r\n        console.log(node);\r\n        node.firstChild.nodeValue = compileTpl(template, data);\r\n    }\r\n    pushDOM(data, i) {\r\n        let elem = document.createElement(this.vdom.tagName);\r\n        let text = getDotVal(data, this.vdom.forObjectKey + \".\" + i);\r\n        let template = this.vdom.template;\r\n        let obj = depCopy(data);\r\n        obj[this.vdom.forKey] = text;\r\n        elem.innerText = compileTpl(template, obj);\r\n        for (let n = 0; n < this.vdom.children.length; n++) {\r\n            elem.appendChild(this.vdom.children[n].transDOM(data));\r\n        }\r\n        DomUtil.inserBefore(this.vdom.nextSibling, elem);\r\n    }\r\n    popDOM() {\r\n        DomUtil.deleteNode(this.vdom.nextSibling.parentNode, this.vdom.nextSibling.previousSibling);\r\n    }\r\n    shiftDOM() {\r\n        DomUtil.deleteNode(this.vdom.previousSibling.parentNode, this.vdom.previousSibling.nextSibling);\r\n    }\r\n    changeText(data, i) {\r\n        let start = this.vdom.previousSibling;\r\n        let end = this.vdom.nextSibling;\r\n        let index = -1;\r\n        while (start != end && index < i) {\r\n            start = start.nextSibling;\r\n            index++;\r\n        }\r\n        let text = getDotVal(data, this.vdom.forObjectKey + \".\" + index);\r\n        DomUtil.changeNodeValue(start, text);\r\n    }\r\n}\r\n\r\nlet VirtualDOM = {\r\n    ForDOM: ForDOM\r\n}\r\n\r\nexport default VirtualDOM;\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/dom/vdom.ts","/**\r\n * Created by kelen on 2017/2/6.\r\n */\r\n\r\n\r\nexport let insertAfter = (node, newNode) => {\r\n    node && node.parentNode && node.parentNode.insertBefore(newNode, node.nextSibling);\r\n}\r\n\r\nexport let inserBefore = (node, newNode) => {\r\n    node && node.parentNode && node.parentNode.insertBefore(newNode, node);\r\n}\r\n\r\nexport let deleteNode = (parent, node) => {\r\n    parent && node && parent.removeChild(node);\r\n}\r\n\r\nexport let changeNodeValue = (node, text) => {\r\n    node && (node.nodeValue = text);\r\n}\r\n\r\nexport let findIteratorNode = (parentNode, key) => {\r\n    let childrens = parentNode.childNodes;\r\n    let iteratorNodes = [];\r\n    for (let i = 0; i < childrens.length; i++) {\r\n        let node = childrens[i];\r\n        if (node.forString && node.forKey && node.forKey == key) {\r\n            iteratorNodes.push(node);\r\n        }\r\n        if (node.childNodes.length) {\r\n            iteratorNodes.concat(findIteratorNode(node, key));\r\n        }\r\n    }\r\n    return iteratorNodes;\r\n}\r\n\r\n// 新增元素, last最后添加\r\nexport let insertNodeByIndex = (node, index, text) => {\r\n\r\n    let tagName = node.tagName;\r\n    let idx = 0; \t\t// 第一个下标开始\r\n    let groupId = node.groupId;\r\n    let attrs = node.attributes;\r\n    let template = node.template;\r\n\r\n    if (index == 0) {\r\n        node.innerText = text;\r\n        node.style.display = \"\";\r\n    } else {\r\n        while (idx < index - 1 && node) {\r\n            if (node.nextSibling && node.nextSibling.groupId == groupId) {\r\n                idx ++;\r\n            }\r\n            node = node.nextSibling;\r\n        }\r\n        let newNode = document.createElement(tagName);\r\n        newNode.groupId = groupId;\r\n        newNode.template = template;\r\n        newNode.innerText = text;\r\n        // 父属性\r\n        for (let i = 0; i < attrs.length; i++) {\r\n            let kv = attrs[i];\r\n            switch (kv.name) {\r\n                default:\r\n                    newNode.setAttribute(kv.name, kv.nodeValue);\r\n            }\r\n        }\r\n        insertAfter(node, newNode);\r\n    }\r\n\r\n}\r\n\r\nexport let removeNodeByIndex = (node, index) => {\r\n    var tagName = node.tagName;\r\n    var idx = 0;\r\n    var groupId = node.groupId;\r\n    // 当下标为1时，重新选举标准\r\n    if (index == 0) {\r\n        if (node.nextSibling.groupId == groupId) {\r\n            node.nextSibling['forKey'] = node.forKey;\r\n            node.nextSibling['forString'] = node.forString;\r\n            node.parentNode.removeChild(node);\r\n        } else {\r\n            node.style.display = 'none';\r\n            node.innerText = '';\r\n        }\r\n    } else {\r\n        while (idx < index && node) {\r\n            if (node.nextSibling && node.groupId == groupId) {\r\n                idx ++;\r\n            }\r\n            node = node.nextSibling;\r\n        }\r\n        node && node.parentNode.removeChild(node);\r\n    }\r\n}\r\n\r\nexport let replaceNodeByIndex = (node, index, text) => {\r\n    var idx = 0;\r\n    var groupId = node.groupId;\r\n    while (idx < index && node) {\r\n        if (node.nextSibling && node.nextSibling.groupId == groupId) {\r\n            idx ++;\r\n        }\r\n        node = node.nextSibling;\r\n    }\r\n    if (node) {\r\n        node.innerText = text;\r\n    } else {\r\n\r\n    }\r\n}\r\n\r\nexport let removeNode = (node) => {\r\n    node && node.parentNode.removeChild(node);\r\n}\r\n\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/util/domOp.ts"],"sourceRoot":""}